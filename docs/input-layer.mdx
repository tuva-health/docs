---
id: input-layer
title: "2. Input Layer"
---

import ExpandableTable from '@site/src/components/ExpandableTable';
import { TableDescription } from '@site/src/components/TableDescription';

Here we document the Input Layer.  The Input Layer is like the API for the Tuva Project.  It's designed to accomodate both claims and clinical data sources.  Once raw data sources (e.g. claims and medical records) are mapped to the Input Layer the rest of the Tuva Project runs automatically (i.e. core data model and all the data marts).

:::note
Click on any row in the data dictionaries below to expand the row and read a longer description with additional context about the column.
:::

## Claims Input

The Claims Input Layer is used for mapping data sources you would typically receive from a payer including medical and pharmacy claims,
eligibility (also known as enrollment), and provider attribution data.

:::note
To use the Claims Input Layer tables, you must set the dbt variable `claims_input_enabled` to `true`.
:::

### eligibility

<TableDescription
  modelName="input_layer__eligibility"
  yamlPath="models/input_layer/input_layer__eligibility.yml"
/>

<ExpandableTable
  modelName="input_layer__eligibility"
  yamlPath="models/input_layer/input_layer__eligibility.yml"
/>

### medical_claim

<TableDescription
  modelName="input_layer__medical_claim"
  yamlPath="models/input_layer/input_layer__medical_claim.yml"
/>

<ExpandableTable
  modelName="input_layer__medical_claim"
  yamlPath="models/input_layer/input_layer__medical_claim.yml"
/>

### pharmacy_claim

<TableDescription
  modelName="input_layer__pharmacy_claim"
  yamlPath="models/input_layer/input_layer__pharmacy_claim.yml"
/>

<ExpandableTable
  modelName="input_layer__pharmacy_claim"
  yamlPath="models/input_layer/input_layer__pharmacy_claim.yml"
/>

### provider_attribution

:::note
To use the provider_attribution table, you must set the dbt variable `provider_attribution_enabled` to `true`.
:::

<TableDescription
  modelName="input_layer__provider_attribution"
  yamlPath="models/input_layer/input_layer__provider_attribution.yml"
/>

<ExpandableTable
  modelName="input_layer__provider_attribution"
  yamlPath="models/input_layer/input_layer__provider_attribution.yml"
/>

## Clinical Input

The Clinical Input Layer is used for mapping clinical data sources, including EHR, HIE data via FHIR APIs, ADT messages,
and lab results.

:::note
To use the Clinical Input Layer tables, you must set the dbt variable `clinical_input_enabled` to `true`.
:::

### appointment

<TableDescription
  modelName="input_layer__appointment"
  yamlPath="models/input_layer/input_layer__appointment.yml"
/>

<ExpandableTable
  modelName="input_layer__appointment"
  yamlPath="models/input_layer/input_layer__appointment.yml"
/>

### condition

<TableDescription
  modelName="input_layer__condition"
  yamlPath="models/input_layer/input_layer__condition.yml"
/>

<ExpandableTable
  modelName="input_layer__condition"
  yamlPath="models/input_layer/input_layer__condition.yml"
/>

### encounter

<TableDescription
  modelName="input_layer__encounter"
  yamlPath="models/input_layer/input_layer__encounter.yml"
/>

<ExpandableTable
  modelName="input_layer__encounter"
  yamlPath="models/input_layer/input_layer__encounter.yml"
/>

### lab_result

<TableDescription
  modelName="input_layer__lab_result"
  yamlPath="models/input_layer/input_layer__lab_result.yml"
/>

<ExpandableTable
  modelName="input_layer__lab_result"
  yamlPath="models/input_layer/input_layer__lab_result.yml"
/>

### immunization

<TableDescription
  modelName="input_layer__immunization"
  yamlPath="models/input_layer/input_layer__immunization.yml"
/>

<ExpandableTable
  modelName="input_layer__immunization"
  yamlPath="models/input_layer/input_layer__immunization.yml"
/>

### location

<TableDescription
  modelName="input_layer__location"
  yamlPath="models/input_layer/input_layer__location.yml"
/>

<ExpandableTable
  modelName="input_layer__location"
  yamlPath="models/input_layer/input_layer__location.yml"
/>

### medication

<TableDescription
  modelName="input_layer__medication"
  yamlPath="models/input_layer/input_layer__medication.yml"
/>

<ExpandableTable
  modelName="input_layer__medication"
  yamlPath="models/input_layer/input_layer__medication.yml"
/>

### observation

<TableDescription
  modelName="input_layer__observation"
  yamlPath="models/input_layer/input_layer__observation.yml"
/>

<ExpandableTable
  modelName="input_layer__observation"
  yamlPath="models/input_layer/input_layer__observation.yml"
/>

### patient

<TableDescription
  modelName="input_layer__patient"
  yamlPath="models/input_layer/input_layer__patient.yml"
/>

<ExpandableTable
  modelName="input_layer__patient"
  yamlPath="models/input_layer/input_layer__patient.yml"
/>

### practitioner

<TableDescription
  modelName="input_layer__practitioner"
  yamlPath="models/input_layer/input_layer__practitioner.yml"
/>

<ExpandableTable
  modelName="input_layer__practitioner"
  yamlPath="models/input_layer/input_layer__practitioner.yml"
/>

### procedure

<TableDescription
  modelName="input_layer__procedure"
  yamlPath="models/input_layer/input_layer__procedure.yml"
/>

<ExpandableTable
  modelName="input_layer__procedure"
  yamlPath="models/input_layer/input_layer__procedure.yml"
/>
